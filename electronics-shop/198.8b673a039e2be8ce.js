"use strict";(self.webpackChunkElectronicsShop=self.webpackChunkElectronicsShop||[]).push([[198],{5198:(w,c,a)=>{a.r(c),a.d(c,{UserModule:()=>S});var u=a(6895),o=a(433),e=a(8256),g=a(529),i=a(2340);let f=(()=>{class t{constructor(n){this.http=n,this.httpOptions={headers:new g.WM({"Content-Type":"application/json"})}}getAllPersons(){return this.http.get(`${i.N.ApiRootLink}/Person`)}getPerson(n){return this.http.get(`${i.N.ApiRootLink}/Person?email=${n}`)}addPerson(n){return this.http.post(`${i.N.ApiRootLink}/Person`,JSON.stringify(n),this.httpOptions)}deletePerson(n){return this.http.delete(`${i.N.ApiRootLink}/Person/${n}`)}UpdatePerson(n,r){return this.http.put(`${i.N.ApiRootLink}/Person/${n}`,JSON.stringify(r))}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(g.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var m=a(6773);let h=(()=>{class t{constructor(n,r,s){this.fb=n,this.User=r,this.router=s,this.userLogin=n.group({email:["",[o.kI.required]],password:["",o.kI.required]})}ngOnInit(){}checkAndredirect(){let n=this.userLogin.get("email")?.value,r=this.userLogin.get("password")?.value;this.User.getPerson(n||"").subscribe(s=>{this.user=s,console.log(this.user)}),this.user?this.user.password==r?console.log("pass"):console.log("no pass"):console.log("NotFound")}redirect(){this.router.navigate(["User/UserRegister"])}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(o.qu),e.Y36(f),e.Y36(m.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-login"]],decls:14,vars:1,consts:[[1,"container-fluid"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","uEmail"],["type","email","formControlName","email","id","uEmail","aria-describedby","emailHelp","name","userEmail",1,"form-control"],["for","uPass"],["type","password","formControlName","password","id","uPass","name","userPass",1,"form-control"],["type","submit",1,"btn","btn-primary"],[2,"color","blue","cursor","pointer","text-decoration","underline",3,"click"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return r.checkAndredirect()}),e.TgZ(2,"div",2)(3,"label",3),e._uU(4,"Email address"),e.qZA(),e._UZ(5,"input",4),e.qZA(),e.TgZ(6,"div",2)(7,"label",5),e._uU(8,"Password"),e.qZA(),e._UZ(9,"input",6),e.qZA(),e.TgZ(10,"button",7),e._uU(11,"Submit"),e.qZA(),e.TgZ(12,"a",8),e.NdJ("click",function(){return r.redirect()}),e._uU(13,"or create account"),e.qZA()()()),2&n&&(e.xp6(1),e.Q6J("formGroup",r.userLogin))},dependencies:[o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u]}),t})();function Z(t,l){1&t&&(e.TgZ(0,"small"),e._uU(1,"Name Required"),e.qZA())}function C(t,l){1&t&&(e.TgZ(0,"small"),e._uU(1,"Name Must be 3 or more letters"),e.qZA())}function U(t,l){1&t&&(e.TgZ(0,"small"),e._uU(1,"Email Required"),e.qZA())}function _(t,l){1&t&&(e.TgZ(0,"small"),e._uU(1,"Email not correct"),e.qZA())}function v(t,l){1&t&&(e.TgZ(0,"small"),e._uU(1,"Password Required"),e.qZA())}function q(t,l){1&t&&(e.TgZ(0,"small"),e._uU(1,"Password must be 8 or more charachters"),e.qZA())}function N(t,l){1&t&&(e.TgZ(0,"small"),e._uU(1,"Phone Required"),e.qZA())}function b(t,l){1&t&&(e.TgZ(0,"small"),e._uU(1,"Phone must be 11 numbers"),e.qZA())}function T(t,l){1&t&&(e.TgZ(0,"small"),e._uU(1,"Card Number Required"),e.qZA())}function A(t,l){1&t&&(e.TgZ(0,"small"),e._uU(1,"Card Number must be 16 numbers"),e.qZA())}function P(t,l){1&t&&(e.TgZ(0,"small"),e._uU(1,"Card CVV Required"),e.qZA())}function y(t,l){1&t&&(e.TgZ(0,"small"),e._uU(1,"CVV must be 3 numbers"),e.qZA())}let R=(()=>{class t{constructor(n,r,s){this.perSer=n,this.router=s,this.userReg=r.group({name:["",[o.kI.required,o.kI.pattern("[A-Za-z]{3,}")]],email:["",[o.kI.required,o.kI.pattern("[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$")]],password:["",[o.kI.required,o.kI.pattern("[A-Za-z0-9]{8,}")]],phone:["",[o.kI.required,o.kI.pattern("[0-9]{11}")]],gender:["",[o.kI.required]],dateOfBirth:["",[o.kI.required]],carddata:r.group({cardNumber:["",[o.kI.required,o.kI.pattern("[0-9]{16}")]],cardexpiary:["",[o.kI.required]],cvv:["",[o.kI.required,o.kI.pattern("[0-9]{3}")]]})})}SaveUser(){this.perSer.addPerson(this.userReg.value).subscribe(()=>{alert("added")}),this.router.navigate(["/Home"])}get fullName(){return this.userReg.get("name")}get Email(){return this.userReg.get("email")}get Password(){return this.userReg.get("password")}get Phone(){return this.userReg.get("phone")}get CardNo(){return this.userReg.get("carddata")?.get("cardNumber")}get CardCvv(){return this.userReg.get("carddata")?.get("cvv")}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f),e.Y36(o.qu),e.Y36(m.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-register"]],decls:68,vars:23,consts:[[1,"container-fluid"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","uFname"],["type","text","id","uFname","name","userFname","formControlName","name",1,"form-control"],[1,"alert","alert-warning",3,"hidden"],[4,"ngIf"],["for","uEmail"],["type","email","id","uEmail","name","userEmail","formControlName","email",1,"form-control"],["for","uPass"],["type","password","id","uPass","name","userPass","formControlName","password",1,"form-control"],["for","uPhone"],["type","text","id","uPhone","name","userPhone","formControlName","phone",1,"form-control"],[1,"form-check"],["type","radio","name","gender","id","uMale","value","M","formControlName","gender",1,"form-check-input"],["for","uMale",1,"form-check-label"],["type","radio","name","gender","id","uFemale","value","F","formControlName","gender",1,"form-check-input"],["for","uFemale",1,"form-check-label"],["for","uDate"],["type","date","id","uDate","name","userDate","formControlName","dateOfBirth",1,"form-control"],["formGroupName","carddata"],["for","uCardNo"],["type","text","id","uCardNo","name","userCardNo","formControlName","cardNumber",1,"form-control"],["for","uExpiary"],["type","date","id","uExpiary","name","userExpiary","formControlName","cardexpiary",1,"form-control"],["for","uCvv"],["type","text","id","uCvv","name","userCvv","formControlName","cvv",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return r.SaveUser()}),e.TgZ(2,"div",2)(3,"label",3),e._uU(4,"Full Name"),e.qZA(),e._UZ(5,"input",4),e.qZA(),e.TgZ(6,"div",5),e.YNc(7,Z,2,0,"small",6),e.YNc(8,C,2,0,"small",6),e.qZA(),e.TgZ(9,"div",2)(10,"label",7),e._uU(11,"Email"),e.qZA(),e._UZ(12,"input",8),e.qZA(),e.TgZ(13,"div",5),e.YNc(14,U,2,0,"small",6),e.YNc(15,_,2,0,"small",6),e.qZA(),e.TgZ(16,"div",2)(17,"label",9),e._uU(18,"Password"),e.qZA(),e._UZ(19,"input",10),e.qZA(),e.TgZ(20,"div",5),e.YNc(21,v,2,0,"small",6),e.YNc(22,q,2,0,"small",6),e.qZA(),e.TgZ(23,"div",2)(24,"label",11),e._uU(25,"Phone"),e.qZA(),e._UZ(26,"input",12),e.qZA(),e.TgZ(27,"div",5),e.YNc(28,N,2,0,"small",6),e.YNc(29,b,2,0,"small",6),e.qZA(),e.TgZ(30,"label"),e._uU(31,"Gender"),e.qZA(),e.TgZ(32,"div",13),e._UZ(33,"input",14),e.TgZ(34,"label",15),e._uU(35," Male "),e.qZA()(),e.TgZ(36,"div",13),e._UZ(37,"input",16),e.TgZ(38,"label",17),e._uU(39," Female "),e.qZA()(),e.TgZ(40,"div",2)(41,"label",18),e._uU(42,"Date Of Birth"),e.qZA(),e._UZ(43,"input",19),e.qZA(),e.TgZ(44,"div",20)(45,"div",2)(46,"label",21),e._uU(47,"Card Number"),e.qZA(),e._UZ(48,"input",22),e.qZA(),e.TgZ(49,"div",5),e.YNc(50,T,2,0,"small",6),e.YNc(51,A,2,0,"small",6),e.qZA(),e.TgZ(52,"div",2)(53,"label",23),e._uU(54,"Expiary Date"),e.qZA(),e._UZ(55,"input",24),e.qZA(),e.TgZ(56,"div",2)(57,"label",25),e._uU(58,"CVV"),e.qZA(),e._UZ(59,"input",26),e.qZA(),e.TgZ(60,"div",5),e.YNc(61,P,2,0,"small",6),e.YNc(62,y,2,0,"small",6),e.qZA()(),e.TgZ(63,"button",27),e._uU(64,"Submit"),e.qZA()(),e.TgZ(65,"div"),e._uU(66),e.ALo(67,"json"),e.qZA()()),2&n&&(e.xp6(1),e.Q6J("formGroup",r.userReg),e.xp6(5),e.Q6J("hidden",(null==r.fullName?null:r.fullName.valid)||(null==r.fullName?null:r.fullName.untouched)),e.xp6(1),e.Q6J("ngIf",null==r.fullName||null==r.fullName.errors?null:r.fullName.errors.required),e.xp6(1),e.Q6J("ngIf",null==r.fullName||null==r.fullName.errors?null:r.fullName.errors.pattern),e.xp6(5),e.Q6J("hidden",(null==r.Email?null:r.Email.valid)||(null==r.Email?null:r.Email.untouched)),e.xp6(1),e.Q6J("ngIf",null==r.Email||null==r.Email.errors?null:r.Email.errors.required),e.xp6(1),e.Q6J("ngIf",null==r.Email||null==r.Email.errors?null:r.Email.errors.pattern),e.xp6(5),e.Q6J("hidden",(null==r.Password?null:r.Password.valid)||(null==r.Password?null:r.Password.untouched)),e.xp6(1),e.Q6J("ngIf",null==r.Password||null==r.Password.errors?null:r.Password.errors.required),e.xp6(1),e.Q6J("ngIf",null==r.Password||null==r.Password.errors?null:r.Password.errors.pattern),e.xp6(5),e.Q6J("hidden",(null==r.Phone?null:r.Phone.valid)||(null==r.Phone?null:r.Phone.untouched)),e.xp6(1),e.Q6J("ngIf",null==r.Phone||null==r.Phone.errors?null:r.Phone.errors.required),e.xp6(1),e.Q6J("ngIf",null==r.Phone||null==r.Phone.errors?null:r.Phone.errors.pattern),e.xp6(20),e.Q6J("hidden",(null==r.CardNo?null:r.CardNo.valid)||(null==r.CardNo?null:r.CardNo.untouched)),e.xp6(1),e.Q6J("ngIf",null==r.CardNo||null==r.CardNo.errors?null:r.CardNo.errors.required),e.xp6(1),e.Q6J("ngIf",null==r.CardNo||null==r.CardNo.errors?null:r.CardNo.errors.pattern),e.xp6(9),e.Q6J("hidden",(null==r.CardCvv?null:r.CardCvv.valid)||(null==r.CardCvv?null:r.CardCvv.untouched)),e.xp6(1),e.Q6J("ngIf",null==r.CardCvv||null==r.CardCvv.errors?null:r.CardCvv.errors.required),e.xp6(1),e.Q6J("ngIf",null==r.CardCvv||null==r.CardCvv.errors?null:r.CardCvv.errors.pattern),e.xp6(1),e.Q6J("disabled",r.userReg.invalid),e.xp6(3),e.Oqu(e.lcZ(67,21,r.userReg.value)))},dependencies:[u.O5,o._Y,o.Fj,o._,o.JJ,o.JL,o.sg,o.u,o.x0,u.Ts]}),t})();var J=a(1010);function k(t,l){if(1&t){const n=e.EpF();e.TgZ(0,"tr")(1,"th",3),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"img",4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"button",5),e.NdJ("click",function(){const d=e.CHM(n).index,p=e.oxw();return e.KtG(p.add(d))}),e._uU(9,"+"),e.qZA()(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td")(13,"button",6),e.NdJ("click",function(){const d=e.CHM(n).index,p=e.oxw();return e.KtG(p.remove(d))}),e._uU(14,"-"),e.qZA()(),e.TgZ(15,"td"),e._uU(16),e.qZA()()}if(2&t){const n=l.$implicit,r=l.index;e.xp6(2),e.Oqu(r+1),e.xp6(2),e.Q6J("src",n.imgURL,e.LSH),e.xp6(2),e.Oqu(n.name),e.xp6(5),e.Oqu(n.quantity),e.xp6(5),e.Oqu(n.price)}}const I=[{path:"UserRegister",component:R},{path:"UserLogin",component:h},{path:"UserCart",component:(()=>{class t{constructor(n){this.cartSer=n}ngOnInit(){this.cartSer.getCart(1).subscribe(n=>{this.cart=n})}add(n){this.cart.products[n].quantity+=1,this.cart.totalprice+=this.cart.products[n].price,this.cartSer.UpdateCart(this.cart.id,this.cart).subscribe()}remove(n){return 0==this.cart.products[n].quantity?(this.cartSer.UpdateCart(this.cart.id,this.cart).subscribe(),void location.reload()):(this.cart.products[n].quantity-=1,this.cart.totalprice-=this.cart.products[n].price,this.cartSer.UpdateCart(this.cart.id,this.cart).subscribe(),0==this.cart.products[n].quantity?(this.cart.products.splice(n,1),this.cartSer.UpdateCart(this.cart.id,this.cart).subscribe(),void location.reload()):void 0)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(J.V))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-cart"]],decls:6,vars:2,consts:[[1,"container-fluid"],[1,"table"],[4,"ngFor","ngForOf"],["scope","row"],["width","150px","height","150px",3,"src"],["type","button",1,"btn","btn-outline-success",2,"border-radius","100px",3,"click"],["type","button",1,"btn","btn-outline-danger",2,"border-radius","100px",3,"click"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"table",1)(2,"tbody"),e.YNc(3,k,17,5,"tr",2),e.qZA()(),e.TgZ(4,"div"),e._uU(5),e.qZA()()),2&n&&(e.xp6(3),e.Q6J("ngForOf",r.cart.products),e.xp6(2),e.hij("Total Price: ",r.cart.totalprice,""))},dependencies:[u.sg]}),t})()}];let S=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.ez,o.UX,m.Bz.forChild(I)]}),t})()}}]);